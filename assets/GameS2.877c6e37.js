import{d as e,g as n,h as t,i as r,o as a,c as s,b as u,w as l,a as o}from"./index.b8431b60.js";import{V as i,E as p,S as N,F as c,H as m,M as O}from"./webXRHTCViveMotionController.af59371f.js";const d=(e,n)=>e&&e.type&&e.type.name&&e.type.name===n,E=e=>e&&e.children&&e.children.default?e.children.default():null,y=(e,n,t=!1)=>!e||e&&!e.length?null:t?e.filter((e=>d(e,n))):e.find((e=>d(e,n))),f=(e,n,t=!1)=>{const r=E(e);return r?y(r,n,t):null};function _(e){const n=f(e,"BABYLON_COMPONENT_VECTOR");return n?{...n.props,vectorPlug:n.type.plug}:null}const g=function(e,n,t){const r=_(e);if(!r)return;const{x:a=0,y:s=0,z:u=0,vectorPlug:l}=r,o=new e.type.plug(e.props.name,new l(a,s,u),t);o.setTarget(i.Zero()),o.attachControl(n,!1)},B=function(e,n){const t=_(e);if(!t)return;const{x:r=0,y:a=0,z:s=0,vectorPlug:u}=t;new e.type.plug(e.props.name,new u(r,a,s),n)},C=function(e,n){if(e.type.variant){const{variant:t}=e.type;switch(t){case"BABYLON_COMPONENT_MESH_SPHERE":!function(e,n){const{name:t,segments:r,diameter:a,updatable:s,sideOrientation:u,x:l=null,y:o=null,z:i=null}=e.props,p=e.type.plug.CreateSphere(t,r,a,n,s,u);(l||0===l)&&(p.position.x=l),(o||0===o)&&(p.position.y=o),(i||0===i)&&(p.position.z=i)}(e,n)}}},v=(e,n,t)=>{if(!e)return null;e.forEach((e=>((e,n,t)=>{if(e&&e.type&&e.type.name)switch(e.type.name){case"BABYLON_COMPONENT_CAMERA":g(e,n,t);break;case"BABYLON_COMPONENT_LIGHT":B(e,t);break;case"BABYLON_COMPONENT_MESH":C(e,t)}})(e,n,t)))};function M(e,n,t){const r=new t.type.plug(e),a=E(t)||null;return v(a,n,r),r}var h=e({name:"GameCanvas",setup(e,a){let s=null;const u=n(null),l=((e,n,t=!1)=>{const r=(e=>e.slots&&e.slots?e.slots.default():null)(e);return r?y(r,n,t):null})(a,"BABYLON_COMPONENT_ENGINE"),o=e=>{e.resize()};return t((()=>{if(!l)return void console.error("Babylon Canvas","Engine is missing");s=new l.type.plug(u.value,!0);const e=f(l,"BABYLON_COMPONENT_SCENE");!function(e,n,t){const r=M(e,n,t);e.runRenderLoop((()=>{r.render()}))}(s,u.value,e),window.addEventListener("resize",(()=>o(s)))})),r((()=>{s.dispose(),window.removeEventListener("resize",(()=>o(s)))})),{canvas:u}}});const L={ref:"canvas",class:"game-canvas",style:{width:"100%",height:"100vh"}};h.render=function(e,n,t,r,u,l){return a(),s("canvas",L,null,512)};var T=e({name:"BABYLON_COMPONENT_ENGINE",plug:p}),P=e({name:"BABYLON_COMPONENT_SCENE",plug:N}),S=e({name:"BABYLON_COMPONENT_CAMERA",plug:c,props:{name:{type:String,reuired:!0}}}),b=e({name:"BABYLON_COMPONENT_VECTOR",plug:i,props:{x:{type:Number,reuired:!0},y:{type:Number,reuired:!0},z:{type:Number,reuired:!0}}}),A=e({name:"BABYLON_COMPONENT_LIGHT",plug:m,props:{name:{type:String,reuired:!0}}}),w=e({name:"BABYLON_COMPONENT_MESH",plug:O,variant:"BABYLON_COMPONENT_MESH_SPHERE",props:{name:{type:String,reuired:!0},segments:{type:Number,default:16},diameter:{type:Number,default:1},updatable:{type:Boolean,default:!1},sideOrientation:{type:Number,default:O.FRONTSIDE},x:{type:Number},y:{type:Number},z:{type:Number}}}),Y=e({name:"GameS2",components:{GameCanvas:h,Engine:T,Scene:P,FreeCamera:S,Vector3:b,HemisphericLight:A,MeshSphere:w}});Y.render=function(e,n,t,r,i,p){const N=u("Vector3"),c=u("FreeCamera"),m=u("HemisphericLight"),O=u("MeshSphere"),d=u("Scene"),E=u("Engine"),y=u("GameCanvas");return a(),s(y,null,{default:l((()=>[o(E,null,{default:l((()=>[o(d,null,{default:l((()=>[o(c,{name:"camera1"},{default:l((()=>[o(N,{x:0,y:5,z:10})])),_:1}),o(m,{name:"light1"},{default:l((()=>[o(N,{x:0,y:1,z:0})])),_:1}),o(O,{name:"sp1",y:1})])),_:1})])),_:1})])),_:1})};export default Y;
